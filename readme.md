# AviaTickets API

Бэкенд по поиску и хранению авиабилетов, и генерации PDF-билетов.

## Стек
- Python 3.11, FastAPI
- SQLAlchemy, PostgreSQL
- Pytest

## Архитектура и структура
Проект написан, соблюдая принципы "чистой архитектуры" и ddd


## Руководство по использованию

### Создание администратора (консольная команда):

```bash

cd src
python -m src.cmd.create_admin_user
```
### Описание файлов для загрузки данных в админ панеле

#### Аэропорты

используется открытый список аэропортов airports.csv с сайта https://ourairports.com/data/, дополненный названием аэроопрта на русском языке

#### Страны

csv файл со следующими колонками

iso код страны, страна на русском языке, страна на английском языке

пример структуры файлы
```
AF,Афганистан,Afghanistan
AL,Албания,Albania
DZ,Алжир,Algeria
AS,Американское Самоа,American Samoa
AD,Андорра,Andorra
```

#### Регионы

csv файл со следующими колонками

название региона на русском языке, название региона на английском, iso код

пример структуры файла

```
Калифорния,California,US-CA
Техас,Texas,US-TX
Нью-Йорк,New York,US-NY
Флорида,Florida,US-FL
Иллинойс,Illinois,US-IL
```

#### Города

csv файл со следующими колонками

название региона на русском языке, название на английском

пример структуры файла

```
Абакан,Abakan
Бишкек,Bishkek
Каир,Cairo
Чита,Chita
```

#### Авиакомпании

txt файл со следующими колонками

iata код, icao код, название компании на английском языке, название компании на русском

пример структуры файла

```
AA	AAL	American Airlines Inc.	Американские авиалинии
AB	BNZ	Bonza Aviation Pty Ltd	Bonza
AB	BER	Air Berlin (Ceased)	Air Berlin
AC	ACA	Air Canada	Эйр Канада
AD	AZU	Azul Brazilian Airlines	Azul
```

полные файлы, использующиеся сейчас на сервере находятся в папке data

## Интеграция

используется авторизация при помощи JWT токенов. Для авторизации необходимо с запросом отправить токен авторизации в заголовке "Authorization"

Описание API находится на сайте по адресу /docs
